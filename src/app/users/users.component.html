<div *ngIf="!editMode" style="margin-top: 110px">
    <div class="container">
      <div class="row justify-content-center" style="margin-top: 80px">
        <h3 style="color:#000000">User Details</h3>
      </div>
    </div>
    <hr>
    <table datatable id="roleTable" [dtOptions]="dtOptions" class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>No.</th>
            <th>Username</th>
            <th>Company</th>
            <th>Department</th>
            <th>Available Role</th>
            <th>Assign Role</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let x of users | keyvalue">
            <tr *ngFor="let data of x.value; let col = index">
                <td>{{col + 1}}</td>
                <td>{{data.username}}</td>
                <td>{{data.company}}</td>
                <td>{{data.department}}</td>
                <ng-container *ngFor="let y of data.roles ">
                  <td>{{y.name}}</td>
                </ng-container>
                <td>
                  <div id="headingOne{{count}}">
                    <a type="button" data-toggle="collapse" [attr.data-target]="'#collapseOne' + count" 
                       aria-expanded="true" (click)="assignR()" title="Assign">Assign</a>
                  </div>
                </td>
            </tr>
          </ng-container>
        </tbody>
    </table>

    <div id="collapseOne{{count}}" [ngClass]="(count==0)?'collapse show':'collapse'"
         data-parent="#accordionExample">
      <div class="card-body">
        <form>
          <div class="row">
              <div class="col-4" *ngFor="let role of assignRoleType">
                  <div class="form-group">
                      <div class="form-check">
                          <input class="form-check-input" name="{{role.name+count}}" type="checkbox"
                                  id="gridCheck">
                          <label class="form-check-label" for="gridCheck">{{role.name}}</label>
                      </div>
                  </div>
              </div>
          </div>
          <button type="button" class="btn btn-primary float-right mb-2" (click)="update()">Ok</button>
        </form>
      </div>
   </div>
</div>